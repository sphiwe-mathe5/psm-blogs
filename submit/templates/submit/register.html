{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <title>{% if title %}Creatives Finder - {{ title }}{% else %}Creatives Finder{% endif %}</title>
</head>
<body>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      background-image: linear-gradient(112.5deg, rgb(48,121,238) 0%, rgb(48,121,238) 10%,rgb(195, 195, 195) 10%, rgb(195, 195, 195) 53%,rgb(176, 176, 176) 53%, rgb(176, 176, 176) 55%,rgb(157, 157, 157) 55%, rgb(157, 157, 157) 60%,rgb(137, 137, 137) 60%, rgb(137, 137, 137) 88%,rgb(118, 118, 118) 88%, rgb(118, 118, 118) 91%,rgb(65,35,104) 91%, rgb(65,35,104) 100%),linear-gradient(157.5deg, rgb(48,121,238) 0%, rgb(48,121,238) 10%,rgb(195, 195, 195) 10%, rgb(195, 195, 195) 53%,rgb(176, 176, 176) 53%, rgb(176, 176, 176) 55%,rgb(157, 157, 157) 55%, rgb(157, 157, 157) 60%,rgb(137, 137, 137) 60%, rgb(137, 137, 137) 88%,rgb(118, 118, 118) 88%, rgb(118, 118, 118) 91%,rgb(65,35,104) 91%, rgb(65,35,104) 100%),linear-gradient(135deg, rgb(48,121,238) 0%, rgb(48,121,238) 10%,rgb(195, 195, 195) 10%, rgb(195, 195, 195) 53%,rgb(176, 176, 176) 53%, rgb(176, 176, 176) 55%,rgb(157, 157, 157) 55%, rgb(157, 157, 157) 60%,rgb(137, 137, 137) 60%, rgb(137, 137, 137) 88%,rgb(118, 118, 118) 88%, rgb(118, 118, 118) 91%,rgb(65,35,104) 91%, rgb(65,35,104) 100%),linear-gradient(90deg, rgb(195, 195, 195),rgb(228, 228, 228)); background-blend-mode:overlay,overlay,overlay,normal;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    
    .form-container {
      display: flex;
      max-width: 900px;
      width: 100%;
      border-radius: 8px;
      overflow: hidden;
      background-color: #fff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      border: none;
    }
    
    fieldset {
      border: none; /* Remove border */
    }
    
    .form-content {
      width: 60%;
      padding: 1.5rem;
    }
    
    .signup-form {
      display: flex;
      flex-direction: column;
    }
    
    .form-title {
      font-size: 1.5rem;
      color: #333;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
    }
    
    .form-grid {
      display: flex;
      justify-content: space-between;
    }
    
    .form-left, .form-right {
      width: 45%;
    }
    
    .form-group {
      margin-top: 1.5rem;
    }
    
    input[type="text"], input[type="email"], input[type="password"], select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
      box-sizing: border-box;
    }
    
    .btn-submit {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 0.75rem;
      border-radius: 4px;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s;
      text-transform: uppercase;
      width: 100%;
    }
    
    .btn-submit:hover {
      background-color: #0056b3;
    }
    
    .form-description {
      width: 40%;
      padding: 2rem;
      background-color: #e9f4ff;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    form, .form-container {
      border: none; /* Ensure no border is applied */
    }
    
    .form-description h3 {
      font-size: 1.5rem;
      color: #007bff;
      margin-bottom: 0.5rem;
    }
    
    .form-description p {
      font-size: 0.9rem;
      color: #333;
      line-height: 1.4;
    }
    .footer-text {
      margin-top: 1rem;
      text-align: center;
    }
  
    .footer-text a {
      color: #007bff;
      text-decoration: none;
    }
  
    .footer-text a:hover {
      text-decoration: underline;
    }
    
    @media (max-width: 768px) {
      .form-container {
          flex-direction: column;
      }
    
      .form-content, .form-description {
          width: 100%;
      }
    
      .form-grid {
          flex-direction: column;
      }
    
      .form-left, .form-right {
          width: 100%;
      }
    
      .btn-submit {
          margin-top: 1rem;
      }
    }
  </style>
  <div class="form-container">
    <div class="form-content">
        <form method="POST" enctype="multipart/form-data" class="signup-form">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="form-title">Create Your Account</legend>
                {% if form.non_field_errors %}
                    <div class="error-message">
                        {% for error in form.non_field_errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
                <div class="form-grid">
                    <div class="form-left">
                        <div class="form-group">
                            <label for="{{ form.username.id_for_label }}">Username</label>
                            {{ form.username }}
                            {% if form.username.errors %}
                                <div class="error-message">
                                    {% for error in form.username.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.email.id_for_label }}">Email</label>
                            {{ form.email }}
                            {% if form.email.errors %}
                                <div class="error-message">
                                    {% for error in form.email.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.password1.id_for_label }}">Password</label>
                            {{ form.password1 }}
                            {% if form.password1.errors %}
                                <div class="error-message">
                                    {% for error in form.password1.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.password2.id_for_label }}">Confirm Password</label>
                            {{ form.password2 }}
                            {% if form.password2.errors %}
                                <div class="error-message">
                                    {% for error in form.password2.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-right">
                        <div class="form-group">
                            <label>User Type</label>
                            {{ form.user_type }}
                            {% if form.user_type.errors %}
                                <div class="error-message">
                                    {% for error in form.user_type.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="form-group service-provider-fields" style="display: none;">
                            <label for="{{ form.category.id_for_label }}">Category</label>
                            {{ form.category }}
                            {% if form.category.errors %}
                                <div class="error-message">
                                    {% for error in form.category.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="form-group service-provider-fields" style="display: none;">
                            <label for="{{ form.location.id_for_label }}">Location</label>
                            {{ form.location }}
                            {% if form.location.errors %}
                                <div class="error-message">
                                    {% for error in form.location.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <button class="btn-submit" type="submit">Sign Up</button>
                        </div>
                        <div class="footer-text">
                            <small>
                                Already one of us? <a class="login-link" href="{% url 'login' %}">Sign In</a>
                            </small>
                        </div>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
    <div class="form-description">
        <h3>Why Join Creatives Finder?</h3>
        <p>
            Join our platform to showcase your talent, connect with potential clients, and grow your career. Fill out the form to create your account and start exploring opportunities today!
        </p>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const userTypeInputs = document.querySelectorAll('input[name="user_type"]');
    const serviceProviderFields = document.querySelectorAll('.service-provider-fields');

    function toggleServiceProviderFields() {
        const isServiceProvider = document.querySelector('input[name="user_type"]:checked').value === 'service_provider';
        serviceProviderFields.forEach(field => {
            field.style.display = isServiceProvider ? 'block' : 'none';
        });
    }

    userTypeInputs.forEach(input => {
        input.addEventListener('change', toggleServiceProviderFields);
    });

    // Initial toggle on page load
    toggleServiceProviderFields();
});
</script>
</body>
</html>
